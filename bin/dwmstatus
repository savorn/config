#!/bin/bash

timedate () {
	printdate=$(date +"%d-%b %I:%M %p")
	echo $printdate
}

getload () {
	printload=$(cat /proc/loadavg | awk '{ print $1, $2, $3 }')
	echo $printload
}

getmem () {
	printmem=$(free -m | grep 'Mem:' | awk '{ print $3"MB","/",$2"MB" }')
	echo $printmem
}

getbat () {
	printbat=$(cat /sys/class/power_supply/BAT1/capacity)
	echo "bat: $printbat%"
}

while true; do
	xsetroot -name "$(getmem) | $(getload) | $(getbat) | $(timedate)"
	sleep 1m
done
